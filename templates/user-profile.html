<!--extend formatting from base.html-->

{% extends 'base.html' %}
{%block head%}  

    <link href="/static/user-profile.css" rel="stylesheet">

{% endblock %} 

{% block body %}

<h2 id="welcome">Welcome back, {{user.fname}} {{user.lname}}</h2>

<div class="container">
    <div class="row">
        <div class="col">

            <br>
            <h3 class="heading">My Saved Filters</h3>
        
            <br>
            
            <h4>Event Categories</h4>
            {% if categories%}    
                {% for category in categories %}
                        <li class ="preference" id = "remove-category-{{category}}">   
                            {{ category }} 
                            <button type = "submit" class = "close remove-category" aria-label="Close" id = "remove-category-{{category}}">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </li>     
                    {% endfor %}

                {% else %}
                    <h7>You haven't saved any categories yet.</h7>
                {% endif %}
                <br>
            
            <h4>Search words</h4>  
            {% if keywords%}
                {% for keyword in keywords %}
                    <li class ="preference" id = "remove-keyword-{{keyword}}">   
                        {{ keyword }} 
        
                    <button type = "submit" class = "close remove-keyword" aria-lable="Close" id = "remove-keyword-{{keyword}}">
                        <span aria-hidden="true">&times;</span>
                    </button>
        
                    </li>     
                {% endfor %} 

            {% else %} 

                <h7>Yo haven't saved any search words yet.</h7>
            
            {% endif %}
        <br>
        <br>

            <h3 class="heading">My Saved Events</h3>
            {% if saved_events%} 
        
                {% for saved_event in saved_events %}
                <li class ="saved-event" id = "remove-event-{{saved_event.event_id}}">
        
                    <!--display link and button as inline elements-->
                        <a href = "/events/{{saved_event.event_id}}">
                        {{ saved_event.name }}
                      </a> 
                
                    <button type = "submit" class = "remove-button" id = "remove-event-{{saved_event.event_id}}">Remove Event</button>
                </li>
                {% endfor %}
        
            {% else %}
        
                <h3>No events saved.</h3>
        
            {% endif %}
        </div>
   
    <div class="col">
        <br>
        <h3 class="heading">My Created Events</h3>

            {%if created_events%} 
                {% for created_event in created_events %}
                    <li class ="created-event" id = "delete-event-{{created_event.event_id}}">
        
                        <a href = "/events/{{created_event.event_id}}">
                            {{ created_event.name }}
                        </a> 
                
                        <button type = "submit" class = "delete-button" id = "delete-event-{{created_event.event_id}}">Delete Event</button>
                    </li>
                {% endfor %}
        
            {% else %}
                    <h3>You haven't created an event yet.</h3>
            {% endif %}
        <br>

    </div>
</div>
    
        

    

    <!-- <p><a href = "/">Search for more events</a> or <a href = "/create-event">create an event!</a></p>  -->
    
    <script src= "/static/user-profile.js"></script>

{% endblock %}