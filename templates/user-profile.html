<!--extend formatting from base.html-->

{% extends 'base.html' %}
{%block head%}{% endblock %} 

{% block body %}

    <h2>Welcome back, {{user.fname}} {{user.lname}}</h2>

    <br>
    <h2>My Saved Filters</h2>

    <br>
    
    <h3><u>Categories</u></h3>
        {% for category in categories %}
            <li class ="preference" id = "remove-category-{{category}}">   
            {{ category }} 

                <button type = "submit" class = "remove-category" id = "remove-category-{{category}}">Remove Category</button>

            </li>     
        {% endfor %}
    <br>
    
    <h3><u>Search words</u></h3>  
        {% for keyword in keywords %}
            <li class ="preference" id = "remove-keyword-{{keyword}}">   
            {{ keyword }} 

                <button type = "submit" class = "remove-keyword" id = "remove-keyword-{{keyword}}">Remove Keyword</button>

            </li>     
        {% endfor %}   
    <br>

    <h2>My Saved Events</h2>
    {% if saved_events%} 

        {% for saved_event in saved_events %}
        <li class ="saved-event" id = "remove-event-{{saved_event.event_id}}">

            <!--display link and button as inline elements-->
                <a href = "/events/{{saved_event.event_id}}">
                {{ saved_event.name }}
              </a> 
        
            <button type = "submit" class = "remove-button" id = "remove-event-{{saved_event.event_id}}">Remove Event</button>
        </li>
        {% endfor %}

    {% else %}

        <h3>No events saved.</h3>

    {% endif %}
        <br>

    <h2>My Created Events</h2>
    {%if created_events%} 

        {% for created_event in created_events %}
            <li class ="created-event" id = "delete-event-{{created_event.event_id}}">

                <a href = "/events/{{created_event.event_id}}">
                    {{ created_event.name }}
                </a> 
        
                <button type = "submit" class = "delete-button" id = "delete-event-{{created_event.event_id}}">Delete Event</button>
            </li>
        {% endfor %}

    {% else %}
            
            <h3>You haven't created an event yet.</h3>
    {% endif %}
    <br>

    <p><a href = "/">Search for more events</a> or <a href = "/create-event">create an event!</a></p> 
    
    <script src= "/static/user-profile.js"></script>

{% endblock %}